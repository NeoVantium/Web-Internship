var knock;var SeamlessLogin=function(){};(function(){"use strict";function IsJsonString(str){try{jQuery.parseJSON(str);}catch(e){return false;}
return true;}
function ValidateInline_registerForm(){$("#inline_enquireRegister input").removeClass('required');var pass=true;if($("#inline_enquireRegister input[name='telephone']").val()===''){$("#inline_enquireRegister input[name='telephone']").addClass('required');pass=false;}
if($("#inline_enquireRegister input[name='fname']").val()===''){$("#inline_enquireRegister input[name='fname']").addClass('required');pass=false;}
if($("#inline_enquireRegister input[name='sname']").val()===''){$("#inline_enquireRegister input[name='sname']").addClass('required');pass=false;}
if($("#inline_enquireRegister input[name='password']").val()===''){$("#inline_enquireRegister input[name='password']").addClass('required');pass=false;}
if($("#inline_enquireRegister input[name='email']").val()===''){$("#inline_enquireRegister input[name='email']").addClass('required');pass=false;}
if(!pass){alert("Please complete all the fields");}
return pass;}
function ValidateInline_loginForm(){$("#inline_enquireLogin input").removeClass('required');var pass=true;if($("#inline_enquireLogin input[name='password']").val()===''){$("#inline_enquireLogin input[name='password']").addClass('required');pass=false;}
if($("#inline_enquireLogin input[name='email']").val()===''){$("#inline_enquireLogin input[name='email']").addClass('required');pass=false;}
if(!pass){alert("Please complete all the fields");}
return pass;}
function ValidateInline_enquireForm(){$("#inline_enquireForm input").removeClass('required');var pass=true;if($("#inline_enquireForm_name").val()===''){$("#inline_enquireForm_name").addClass('required');pass=false;}
if($("#inline_enquireForm_email").val()===''){$("#inline_enquireForm_email").addClass('required');pass=false;}
if(!pass){alert("Please complete all the fields");}
return pass;}
SeamlessLogin.prototype.knock=function(){knock.register_actions();knock.common_actions();};SeamlessLogin.prototype.removeLoad=function(){$(".blackoverlay").remove();$(".boxoverlay").fadeOut(500,function(){}).remove();};SeamlessLogin.prototype.addLoad=function(){knock.removeLoad();$("body").prepend('<div class="blackoverlay"></div><div class="boxoverlay"><div class="bocontent"><div class="inner_loadingOverlay"><div class="loadingIcon"><img class="spin" src="interface/assets/js/assets/images/load.png" width="100" height="100" /></div></div></div></div>');};SeamlessLogin.prototype.inlineLoad=function(){$(".boxoverlay").html('<div class="bocontent"><div class="inner_loadingOverlay"><div class="loadingIcon"><img class="spin" src="interface/assets/js/assets/images/load.png" width="100" height="100" /></div></div></div>');};SeamlessLogin.prototype.scrollTop=function(){$('html, body').animate({scrollTop:0},'fast');};SeamlessLogin.prototype.enquireForm_submit=function(){knock.common_actions();$("#enquire_message_action").click(function(){if(ValidateInline_enquireForm()){$(this).html("sending...");$(this).attr("disabled","disabled");var data=$("#inline_enquireForm").serialize()+'&type=contactForm';$.ajax({type:"POST",cache:false,url:'app/ajax/action',data:data}).done(function(data){$(this).html("send your message");$(this).removeAttr("disabled");console.log(data);var conversionValue=$("#Seamless_ProductDetails_value").val();$.ajax({type:"POST",url:'app/ajax/login/enquire-success.php',data:'conversionValue='+conversionValue,async:true,success:function(data){console.log("conversionValue: "+conversionValue);$(".boxoverlay").html(data);knock.common_actions();}});});}});};SeamlessLogin.prototype.redirect=function(){var loc=$("#Seamless_nextLocation").val();if(loc===""){knock.removeLoad();}else{window.location='/'+$("#Seamless_nextLocation").val();}};SeamlessLogin.prototype.loginForm_submit=function(){knock.common_actions();$(".enquire_choice_yes").unbind('click').click(function(){$(".bocontent").hide();$("#enquire_login").show();knock.loginForm_submit();});$(".enquire_choice_not").unbind('click').click(function(){$(".bocontent").hide();$("#enquire_createAccount").show();knock.loginForm_submit();});$(".enquire_login_action").unbind('click').click(function(){if(ValidateInline_loginForm()){var data=$("#inline_enquireLogin").serialize()+'';knock.inlineLoad();$.ajax({type:"POST",cache:false,url:'app/ajax/action',data:data}).done(function(data){if(IsJsonString(data)){var obj=jQuery.parseJSON(data);switch(obj.result){case "success":knock.redirect();break;case "fail":$.prompt(obj.errorMessage,{title:"Something went wrong",buttons:{"Okay":true},submit:function(){knock.addLoad();$(".blackoverlay").fadeIn(500,function(){$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/login.php',data:'',async:true,success:function(data){$(".boxoverlay").html(data);$(".bocontent").hide();$("#enquire_login").show();knock.loginForm_submit();}});});}});break;}}});}});$(".enquire_createAccount_action").unbind('click').click(function(){if(ValidateInline_registerForm()){$(this).html("sending...");$(this).attr("disabled","disabled");var productID=$("#Seamless_ProductDetails_id").val();var data=$("#inline_enquireRegister").serialize()+'&productID='+productID;knock.inlineLoad();$.ajax({type:"POST",cache:false,url:'app/ajax/action',data:data}).done(function(data){console.log(data);if(IsJsonString(data)){var obj=jQuery.parseJSON(data);switch(obj.result){case "success":knock.redirect();break;case "fail":$.prompt(obj.errorMessage,{title:"Something went wrong",buttons:{"Okay":true},submit:function(){knock.addLoad();$(".blackoverlay").fadeIn(500,function(){$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/login.php',data:'',async:true,success:function(data){$(".boxoverlay").html(data);$("#enquire_login").hide();$("#enquire_createAccount").hide();knock.loginForm_submit();}});});}});}}else{console.log("enquire_createAccount_action: NOT JSON");}});}});$("#enquire_message_action").unbind('click').click(function(){if(ValidateInline_enquireForm()){$(this).html("sending...");$(this).attr("disabled","disabled");var data=$("#inline_enquireForm").serialize()+'&type=contactForm';knock.inlineLoad();$.ajax({type:"POST",cache:false,url:'app/ajax/action',data:data}).done(function(data){$(this).html("send your message");$(this).removeAttr("disabled");console.log(data);$.ajax({type:"POST",url:'app/ajax/login/enquire-success.php',data:'',async:true,success:function(data){$(".boxoverlay").html(data);knock.common_actions();}});});}});};SeamlessLogin.prototype.common_actions=function(){$(".closeBox,#closeBox").unbind('click').click(function(){knock.removeLoad();});};SeamlessLogin.prototype.inline_addtobasket=function(){var data=$('#tryingAB').serialize();$.ajax({cache:false,async:true,type:'POST',url:'app/ajax/wte.php',data:data,success:function(){knock.redirect();}});};SeamlessLogin.prototype.register_actions=function(){$("#bookButton").click(function(){var productName=$("#Seamless_ProductDetails_name").val();knock.addLoad();$(".blackoverlay").fadeIn(500,function(){knock.scrollTop();$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/enquire.php',data:'',async:true,success:function(data){console.log(data);$(".boxoverlay").html(data);$("#inline_enquireForm_message").val("I am interested in arranging a home viewing of: "+productName);knock.enquireForm_submit();},error:function(data){console.log(data);}});});});$("#reserve").click(function(){var productName=$("#Seamless_ProductDetails_name").val();knock.addLoad();$(".blackoverlay").fadeIn(500,function(){knock.scrollTop();$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/enquire.php',data:'',async:true,success:function(data){console.log(data);$(".boxoverlay").html(data);$("#inline_enquireForm_message").val("I am interested in arranging a showroom viewing of: "+productName);knock.enquireForm_submit();},error:function(data){console.log(data);}});});});$(".step1Booking").click(function(){knock.addLoad();$("#Seamless_nextLocation").val("book-address");$(".blackoverlay").fadeIn(500,function(){knock.scrollTop();$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/login.php',data:'productID='+$("#Seamless_ProductDetails_id").val(),async:true,success:function(data){if(IsJsonString(data)){var obj=jQuery.parseJSON(data);if(obj.results==="loggedin"){knock.redirect();}}else{$(".boxoverlay").html(data);$("#enquire_login").hide();$("#enquire_createAccount").hide();knock.loginForm_submit();}}});});});$("#reserve1001").click(function(){knock.addLoad();$("#Seamless_nextLocation").val("viewing-address");$(".blackoverlay").fadeIn(500,function(){knock.scrollTop();$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/login.php',data:'productID='+$("#Seamless_ProductDetails_id").val(),async:true,success:function(data){if(IsJsonString(data)){var obj=jQuery.parseJSON(data);if(obj.results==="loggedin"){knock.redirect();}}else{$(".boxoverlay").html(data);$("#enquire_login").hide();$("#enquire_createAccount").hide();knock.loginForm_submit();}}});});});$("#enquire").click(function(){knock.addLoad();$(".blackoverlay").fadeIn(500,function(){knock.scrollTop();$(".boxoverlay").show();$.ajax({type:"POST",url:'app/ajax/login/enquire.php',data:'',async:true,success:function(data){console.log(data);$(".boxoverlay").html(data);knock.enquireForm_submit();},error:function(data){console.log(data);}});});});$("#bookButton1001").click(function(){$("#Seamless_nextLocation").val("book-basket");knock.inline_addtobasket();});};})();$(document).ready(function(){"use strict";knock=new SeamlessLogin();knock.knock();$(".sizeINToggle").click(function(){$(".sizeINToggle").html("<strong>Inches</strong>");$(".sizeCMToggle").html("CM");$("#sizeIN").show();$("#sizeCM").hide();});$(".sizeCMToggle").click(function(){$(".sizeINToggle").html("Inches");$(".sizeCMToggle").html("<strong>CM</strong>");$("#sizeIN").hide();$("#sizeCM").show();});setTimeout(function(){$(".info").addClass("loaded");},1000);});